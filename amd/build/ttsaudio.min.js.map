{"version":3,"file":"ttsaudio.min.js","sources":["../src/ttsaudio.js"],"sourcesContent":["define(['jquery','core/log'], function($,log) {\n    \"use strict\"; // jshint ;_;\n\n\n    log.debug('ReadAloud TTS Audio: initialising');\n\n    return{\n\n        init: function(AUDIOID){\n\n            //DECLARATIONS and INITs ...........................\n            var stoporpause='stop';\n\n            //audio player declarations\n            var aplayer = $('#' + AUDIOID + '_ttsaudioplayer');\n            var fa = $('#' + AUDIOID + '_ttsaudio .fa');\n\n            //FUNCTION: play a single sentence and mark it active for display purposes\n            var doplayaudio = function(){\n                aplayer[0].play();\n            };\n\n\n            //AUDIO PLAYER events\n            aplayer[0].addEventListener('ended', function(){\n                    $(fa).removeClass('fa-stop');\n                    $(fa).addClass('fa-volume-up');\n            });\n\n            aplayer[0].addEventListener('play', function(){\n                $(fa).removeClass('fa-volume-up');\n                $(fa).addClass('fa-stop');\n            });\n\n            //handle audio player button clicks\n            $('#' + AUDIOID).click(function(){\n                if(!aplayer[0].paused && !aplayer[0].ended){\n                    aplayer[0].pause();\n                    if(stoporpause=='stop'){\n                        aplayer[0].load();\n                    }\n                    $(fa).removeClass('fa-stop');\n                    $(fa).addClass('fa-volume-up');\n\n                    //if paused and in limbo no src state\n                }else if(aplayer[0].paused && aplayer.attr('src')){\n                    aplayer[0].play();\n                    $(fa).removeClass('fa-volume-up');\n                    $(fa).addClass('fa-stop');\n                    //play\n                }else{\n                    doplayaudio();\n                    $(fa).removeClass('fa-volume-up');\n                    $(fa).addClass('fa-stop');\n                }//end of if paused ended\n            });\n            //end of instance wrapper\n        }\n\n    };//end of return value\n});"],"names":["define","$","log","debug","init","AUDIOID","aplayer","fa","addEventListener","removeClass","addClass","click","paused","ended","attr","play","pause","load"],"mappings":"AAAAA,gCAAO,CAAC,SAAS,aAAa,SAASC,EAAEC,YAIrCA,IAAIC,MAAM,qCAEJ,CAEFC,KAAM,SAASC,aAMPC,QAAUL,EAAE,IAAMI,QAAU,mBAC5BE,GAAKN,EAAE,IAAMI,QAAU,iBAS3BC,QAAQ,GAAGE,iBAAiB,SAAS,WAC7BP,EAAEM,IAAIE,YAAY,WAClBR,EAAEM,IAAIG,SAAS,mBAGvBJ,QAAQ,GAAGE,iBAAiB,QAAQ,WAChCP,EAAEM,IAAIE,YAAY,gBAClBR,EAAEM,IAAIG,SAAS,cAInBT,EAAE,IAAMI,SAASM,OAAM,WACfL,QAAQ,GAAGM,QAAWN,QAAQ,GAAGO,OAS5BP,QAAQ,GAAGM,QAAUN,QAAQQ,KAAK,OACvCR,QAAQ,GAAGS,OACXd,EAAEM,IAAIE,YAAY,gBAClBR,EAAEM,IAAIG,SAAS,aAXfJ,QAAQ,GAAGU,QAEPV,QAAQ,GAAGW,OAEfhB,EAAEM,IAAIE,YAAY,WAClBR,EAAEM,IAAIG,SAAS"}